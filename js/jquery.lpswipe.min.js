/* ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~                Swipe Detection Plugin               ~~
~~           Leon Slater, www.lpslater.co.uk           ~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */
(function(e){e.fn.lpswipe=function(t){var n={threshold:20,swipeDirection:"horizontal",start:function(e){},right:function(e){},left:function(e){},up:function(e){},down:function(e){},moving:function(e){},notReached:function(e){},end:function(e){}};t=e.extend({},n,t);return this.each(function(){function x(){i=0;s=0;o=0;u=0;a=true;y=-1;b=null;e("html").css({"-ms-touch-action":"auto","touch-action":"auto"});r.off(m,N).off(g,C);if(h){e("html").off(m,N).off(g,C)}}function T(n){if(h?y===-1&&(n.originalEvent.pointerType==="touch"||n.originalEvent.pointerType===2):!n.originalEvent.targetTouches[1]){var s=h?n.originalEvent:n.originalEvent.targetTouches[0];i=s.clientX;o=s.clientY;r.on(m,N).on(g,C);if(h){e("html").on(m,N).on(g,C)}y=h?n.originalEvent.pointerId:n.originalEvent.targetTouches[0].identifier;e("html").css({"-ms-touch-action":"none","touch-action":"none"});if(typeof t.start=="function"){t.start(w)}}}function N(e){if(h?y===e.originalEvent.pointerId&&(e.originalEvent.pointerType==="touch"||e.originalEvent.pointerType===2):y===e.originalEvent.targetTouches[0].identifier){var n=h?e.originalEvent:e.originalEvent.targetTouches[0];s=n.clientX-i;u=n.clientY-o;if(a){var r={horizontal:Math.abs(u)>Math.abs(s),vertical:Math.abs(u)<Math.abs(s),all:false};a=r[t.swipeDirection]}if(!a){e.preventDefault();if(typeof t.moving=="function"){w.posX=s;w.posY=u;t.moving(w)}}else{x()}}}function C(e){if(h?y===e.originalEvent.pointerId&&(e.originalEvent.pointerType==="touch"||e.originalEvent.pointerType===2):!e.originalEvent.targetTouches.length){if(!a){if(t.swipeDirection==="horizontal"){b=s>t.threshold?"right":s<-t.threshold?"left":"notReached"}else if(t.swipeDirection==="vertical"){b=u>t.threshold?"down":u<-t.threshold?"up":"notReached"}else{b=null}w.posX=s;w.posY=u;switch(b){case"left":if(typeof t.left=="function"){t.left(w)}break;case"right":if(typeof t.right=="function"){t.right(w)}break;case"up":if(typeof t.up=="function"){t.up(w)}break;case"down":if(typeof t.down=="function"){t.down(w)}break;case"notReached":if(typeof t.notReached=="function"){t.notReached(w)}break}if(typeof t.end=="function"){t.end(w)}}x()}}var n={start:{IEedge:"pointerdown",IE10:"MSPointerDown",webkit:"touchstart"},move:{IEedge:"pointermove",IE10:"MSPointerMove",webkit:"touchmove"},end:{IEedge:"pointerup",IE10:"MSPointerUp",webkit:"touchend"},cancel:{IEedge:"pointercancel",IE10:"MSPointerCancel",webkit:"touchcancel"}};var r=e(this),i=0,s=0,o=0,u=0,a=true,f="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,l=window.navigator.pointerEnabled,c=window.navigator.msPointerEnabled,h=f?l||c:false,p=h?l?"IEedge":"IE10":"webkit",d=n.cancel[p],v=n.start[p],m=n.move[p],g=n.end[p],y=-1,b=null,w={$el:r};var E={horizontal:"pan-y",vertical:"pan-x",all:"none"},S=E[t.swipeDirection];r.css({"-ms-touch-action":S,"touch-action":S}).on(v,T).on(d,x)})}})(jQuery)