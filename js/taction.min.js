/* 
 * Swipe plugin for cross-browser touch events
 * Leon Slater
 * http://mynamesleon.com
 */
!function(){var e={start:{IEedge:"pointerdown",IE10:"MSPointerDown",webkit:"touchstart"},move:{IEedge:"pointermove",IE10:"MSPointerMove",webkit:"touchmove"},end:{IEedge:"pointerup",IE10:"MSPointerUp",webkit:"touchend"},cancel:{IEedge:"pointercancel",IE10:"MSPointerCancel",webkit:"touchcancel"}},n="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,t=window.navigator.pointerEnabled,o=window.navigator.msPointerEnabled,i=n?t||o:!1,r=i?t?"IEedge":"IE10":"webkit",c=e.cancel[r],a=e.start[r],d=e.move[r],s=e.end[r],u=0,l=Math.abs;window.taction=function(e,t){function o(e){function n(){u--,E=0,m=0,g=0,y=0,I=v,b=-1,i?(P.removeEventListener(d,w),P.removeEventListener(s,p)):(e.removeEventListener(d,w),e.removeEventListener(s,p)),0===u&&(P.style.msTouchAction="",P.style.touchAction=""),h("reset",L),k=!0}function t(){return{horizontal:m>r.threshold?"right":m<-r.threshold?"left":"notReached",vertical:y>r.threshold?"down":y<-r.threshold?"up":"notReached",all:null}[r.swipeDirection]}function o(e,n){var t=i?"touch"===e.pointerType||2===e.pointerType:!0;if(t)switch(n){case"start":t=-1===b;break;case"move":t=i?b===e.pointerId:b===e.targetTouches[0].identifier;break;case"end":t=i?b===e.pointerId:b===e.changedTouches[0].identifier}return t}function h(e,t){var o=!0;if("function"==typeof r[e]){if(k)return;o=r[e](t),o===!1&&n()}}function f(n){if(o(n,"start")){var t=i?n:n.targetTouches[0];E=t.clientX,g=t.clientY,k=!1,b=i?t.pointerId:t.identifier,i?(P.addEventListener(d,w),P.addEventListener(s,p)):(e.addEventListener(d,w),e.addEventListener(s,p)),0===u&&(P.style.msTouchAction="none",P.style.touchAction="none"),u++,h("start",{el:e,event:n})}}function w(e){if(o(e,"move")){var t=i?e:e.targetTouches[0];m=t.clientX-E,y=t.clientY-g,I&&(I={horizontal:l(y)>l(m),vertical:l(y)<l(m),all:!1}[r.swipeDirection]),I?n():(e.preventDefault(),L.x=m,L.y=y,h("moving",L))}}function p(e){o(e,"end")&&(I||(h("beforeEnd",L),h(t(),L),h("end",L)),n())}var E=0,m=0,g=0,y=0,I=v,b=-1,L={},T={horizontal:"pan-y",vertical:"pan-x",all:"none"}[r.swipeDirection],P=document.documentElement,k=!1;e.style.msTouchAction=T,e.style.touchAction=T,e.addEventListener&&(e.addEventListener(a,f),e.addEventListener(c,n))}if(n){var r={threshold:20,swipeDirection:"horizontal",start:function(){},reset:function(){},moving:function(){},beforeEnd:function(){},end:function(){},right:function(){},left:function(){},up:function(){},down:function(){},notReached:function(){}};for(var h in t)r.hasOwnProperty(h)&&(r[h]=t[h]);var v="all"!==r.swipeDirection;if(void 0===e.length)o(e);else for(var f=0;f<e.length;f++)o(e[f])}},"undefined"!=typeof window.jQuery&&(window.jQuery.fn.taction=function(e){window.taction(this,e)})}();